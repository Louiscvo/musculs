<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Application professionnelle de suivi de programme de musculation avec timer, statistiques et suivi de progression">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>Musculs - Programme Pro</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí™</text></svg>">

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí™</text></svg>">

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Mode Sombre Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="Changer de th√®me">
        <span class="theme-icon">üåô</span>
    </button>

    <div class="container">
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">üí™</div>
                    <div>
                        <h1>Musculs Pro</h1>
                        <p class="subtitle">Votre coach personnel</p>
                    </div>
                </div>
                <div class="header-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="totalWorkouts">0</span>
                        <span class="stat-label">S√©ances</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="currentStreak">0</span>
                        <span class="stat-label">S√©rie</span>
                    </div>
                </div>
            </div>
            <div class="current-day" id="currentDay"></div>
        </header>

        <!-- Navigation par jour -->
        <nav class="day-selector">
            <button class="day-btn" data-day="lundi">
                <span class="day-name">Lundi</span>
                <span class="day-badge" data-badge="lundi"></span>
            </button>
            <button class="day-btn" data-day="mardi">
                <span class="day-name">Mardi</span>
                <span class="day-badge" data-badge="mardi"></span>
            </button>
            <button class="day-btn" data-day="mercredi">
                <span class="day-name">Mercredi</span>
                <span class="day-badge" data-badge="mercredi"></span>
            </button>
            <button class="day-btn" data-day="jeudi">
                <span class="day-name">Jeudi</span>
                <span class="day-badge" data-badge="jeudi"></span>
            </button>
            <button class="day-btn" data-day="vendredi">
                <span class="day-name">Vendredi</span>
                <span class="day-badge" data-badge="vendredi"></span>
            </button>
            <button class="day-btn day-btn-rest" data-day="weekend">
                <span class="day-name">Weekend</span>
                <span class="rest-label">Repos üò¥</span>
            </button>
        </nav>

        <!-- Section principale -->
        <main>
            <!-- Affichage du programme -->
            <div class="workout-display" id="workoutDisplay">
                <div class="no-workout">
                    <div class="empty-state">
                        <span class="empty-icon">üìã</span>
                        <h3>S√©lectionnez un jour</h3>
                        <p>Choisissez un jour de la semaine pour voir votre programme</p>
                    </div>
                </div>
            </div>

            <!-- Timer de repos -->
            <div class="timer-section" id="timerSection" style="display: none;">
                <div class="timer-header">
                    <h3>‚è±Ô∏è Timer de Repos</h3>
                    <div class="timer-presets">
                        <button class="preset-btn" data-time="60">1 min</button>
                        <button class="preset-btn" data-time="90">1:30</button>
                        <button class="preset-btn active" data-time="180">3 min</button>
                        <button class="preset-btn" data-time="300">5 min</button>
                    </div>
                </div>
                <div class="timer-circle">
                    <svg class="timer-svg" viewBox="0 0 200 200">
                        <circle class="timer-bg" cx="100" cy="100" r="90"></circle>
                        <circle class="timer-progress" cx="100" cy="100" r="90" id="timerCircle"></circle>
                    </svg>
                    <div class="timer-display" id="timerDisplay">3:00</div>
                </div>
                <div class="timer-controls">
                    <button class="btn btn-icon btn-secondary" id="resetTimer" title="R√©initialiser">
                        <span>‚Ü∫</span>
                    </button>
                    <button class="btn btn-primary btn-large" id="startTimer">
                        <span id="timerButtonText">D√©marrer</span>
                    </button>
                    <button class="btn btn-icon btn-secondary" id="skipTimer" title="Passer">
                        <span>‚è≠</span>
                    </button>
                </div>
            </div>

            <!-- Section Notes -->
            <div class="notes-section" id="notesSection" style="display: none;">
                <div class="notes-header">
                    <h3>üìù Notes de s√©ance</h3>
                    <button class="btn btn-small" id="saveNotes">Sauvegarder</button>
                </div>
                <textarea class="notes-textarea" id="notesTextarea" placeholder="Ajoutez vos notes ici... (poids utilis√©s, sensations, etc.)"></textarea>
                <div class="notes-saved" id="notesSaved" style="display: none;">‚úì Notes sauvegard√©es</div>
            </div>
        </main>

        <!-- Bouton flottant pour marquer la s√©ance termin√©e -->
        <button class="fab" id="completeWorkout" style="display: none;" title="Marquer comme termin√©">
            <span>‚úì</span>
        </button>

        <footer class="app-footer">
            <div class="footer-nav">
                <button class="footer-btn active" data-view="workout">
                    <span class="footer-icon">üèãÔ∏è</span>
                    <span>Programme</span>
                </button>
                <button class="footer-btn" data-view="progress">
                    <span class="footer-icon">üìà</span>
                    <span>Progression</span>
                </button>
                <button class="footer-btn" data-view="stats">
                    <span class="footer-icon">üìä</span>
                    <span>Stats</span>
                </button>
                <button class="footer-btn" data-view="achievements">
                    <span class="footer-icon">üèÜ</span>
                    <span>Badges</span>
                </button>
                <button class="footer-btn" data-view="settings">
                    <span class="footer-icon">‚öôÔ∏è</span>
                    <span>Plus</span>
                </button>
            </div>
        </footer>
    </div>

    <!-- Modal Statistiques -->
    <div class="modal" id="statsModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìä Vos Statistiques</h2>
                <button class="modal-close" data-modal="statsModal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üî•</div>
                        <div class="stat-info">
                            <div class="stat-number" id="streakStat">0</div>
                            <div class="stat-text">Jours cons√©cutifs</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí™</div>
                        <div class="stat-info">
                            <div class="stat-number" id="totalWorkoutsStat">0</div>
                            <div class="stat-text">S√©ances totales</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-info">
                            <div class="stat-number" id="totalTimeStat">0</div>
                            <div class="stat-text">Minutes d'entra√Ænement</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìÖ</div>
                        <div class="stat-info">
                            <div class="stat-number" id="thisWeekStat">0</div>
                            <div class="stat-text">Cette semaine</div>
                        </div>
                    </div>
                </div>
                <div class="progress-calendar" id="progressCalendar"></div>
            </div>
        </div>
    </div>

    <!-- Modal R√©glages -->
    <div class="modal" id="settingsModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚öôÔ∏è R√©glages</h2>
                <button class="modal-close" data-modal="settingsModal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <h3>Notifications</h3>
                    <label class="switch-label">
                        <input type="checkbox" id="notificationsToggle" checked>
                        <span class="switch"></span>
                        <span>Activer les notifications</span>
                    </label>
                    <label class="switch-label">
                        <input type="checkbox" id="soundToggle" checked>
                        <span class="switch"></span>
                        <span>Sons du timer</span>
                    </label>
                </div>
                <div class="settings-group">
                    <h3>Outils</h3>
                    <button class="btn btn-primary btn-full" id="openCalculator">üßÆ Calculateur 1RM</button>
                </div>
                <div class="settings-group">
                    <h3>Donn√©es</h3>
                    <button class="btn btn-secondary btn-full" id="exportData">üì• Exporter les donn√©es</button>
                    <button class="btn btn-outline btn-full" id="resetData">üóëÔ∏è R√©initialiser</button>
                </div>
                <div class="settings-group">
                    <h3>√Ä propos</h3>
                    <p class="about-text">Musculs Pro v3.0 - Ultimate Edition</p>
                    <p class="about-text small">Application compl√®te de suivi de musculation</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Progression -->
    <div class="modal" id="progressModal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>üìà Ma Progression</h2>
                <button class="modal-close" data-modal="progressModal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="progress-tabs">
                    <button class="tab-btn active" data-tab="weights">üí™ Poids</button>
                    <button class="tab-btn" data-tab="charts">üìä Graphiques</button>
                    <button class="tab-btn" data-tab="photos">üì∏ Photos</button>
                </div>

                <!-- Tab: Poids -->
                <div class="tab-content active" id="weightsTab">
                    <div class="weight-selector">
                        <label>S√©lectionner un exercice :</label>
                        <select id="exerciseSelect" class="exercise-select">
                            <option value="">-- Choisir --</option>
                        </select>
                    </div>
                    <div id="weightHistory" class="weight-history"></div>
                    <div class="add-weight-section" id="addWeightSection" style="display: none;">
                        <h3>Ajouter un record</h3>
                        <div class="weight-input-group">
                            <input type="number" id="weightInput" placeholder="Poids (kg)" step="0.5">
                            <input type="number" id="repsInput" placeholder="Reps" step="1">
                            <button class="btn btn-primary" id="saveWeight">üíæ Sauvegarder</button>
                        </div>
                    </div>
                </div>

                <!-- Tab: Graphiques -->
                <div class="tab-content" id="chartsTab">
                    <div class="chart-container">
                        <canvas id="progressChart"></canvas>
                    </div>
                    <div class="stats-summary">
                        <div class="stat-card-mini">
                            <div class="stat-label">Progression totale</div>
                            <div class="stat-value-big" id="totalProgress">+0%</div>
                        </div>
                        <div class="stat-card-mini">
                            <div class="stat-label">Record personnel</div>
                            <div class="stat-value-big" id="personalRecord">0kg</div>
                        </div>
                    </div>
                </div>

                <!-- Tab: Photos -->
                <div class="tab-content" id="photosTab">
                    <div class="photo-upload">
                        <button class="btn btn-primary btn-full" id="addPhoto">üì∑ Ajouter une photo</button>
                        <input type="file" id="photoInput" accept="image/*" style="display: none;">
                    </div>
                    <div class="photo-gallery" id="photoGallery"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Achievements -->
    <div class="modal" id="achievementsModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üèÜ Badges & Achievements</h2>
                <button class="modal-close" data-modal="achievementsModal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="achievements-summary">
                    <div class="achievement-count">
                        <span class="count-number" id="unlockedCount">0</span>
                        <span class="count-label">/ <span id="totalBadges">15</span> d√©bloqu√©s</span>
                    </div>
                    <div class="achievement-progress-bar">
                        <div class="achievement-progress-fill" id="achievementProgress"></div>
                    </div>
                </div>
                <div class="achievements-grid" id="achievementsGrid"></div>
            </div>
        </div>
    </div>

    <!-- Modal Calculateur 1RM -->
    <div class="modal" id="calculatorModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üßÆ Calculateur 1RM</h2>
                <button class="modal-close" data-modal="calculatorModal">√ó</button>
            </div>
            <div class="modal-body">
                <p class="calculator-description">Calculez votre charge maximale th√©orique (1 Rep Max)</p>
                <div class="calculator-inputs">
                    <div class="input-group">
                        <label>Poids soulev√© (kg)</label>
                        <input type="number" id="calc1rmWeight" placeholder="100" step="0.5">
                    </div>
                    <div class="input-group">
                        <label>Nombre de r√©p√©titions</label>
                        <input type="number" id="calc1rmReps" placeholder="10" step="1" min="1" max="15">
                    </div>
                    <button class="btn btn-primary btn-full" id="calculate1RM">Calculer</button>
                </div>
                <div class="calculator-result" id="calculator1RMResult" style="display: none;">
                    <div class="result-main">
                        <div class="result-label">Votre 1RM estim√©</div>
                        <div class="result-value" id="rm1Value">0 kg</div>
                    </div>
                    <div class="percentage-table">
                        <div class="percentage-row">
                            <span>95% (1-2 reps)</span>
                            <span id="rm95">0 kg</span>
                        </div>
                        <div class="percentage-row">
                            <span>90% (3-4 reps)</span>
                            <span id="rm90">0 kg</span>
                        </div>
                        <div class="percentage-row">
                            <span>85% (5-6 reps)</span>
                            <span id="rm85">0 kg</span>
                        </div>
                        <div class="percentage-row">
                            <span>80% (7-8 reps)</span>
                            <span id="rm80">0 kg</span>
                        </div>
                        <div class="percentage-row">
                            <span>75% (9-10 reps)</span>
                            <span id="rm75">0 kg</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="toast" id="toast"></div>

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="app.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('Service Worker enregistr√©', reg))
                .catch(err => console.log('Erreur Service Worker', err));
        }
    </script>
</body>
</html>
